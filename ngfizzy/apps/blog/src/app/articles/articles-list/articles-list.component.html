<app-articles-content-wrapper>
  <div class="row articles-list-row">
    <div
      class="col-12 articles-list"
    >
      <app-loading-and-empty-state
        [isLoading]="isArticlesLoading$ | async"
        [content]="articles$ | async"
      >
      </app-loading-and-empty-state>
      <app-article
        [config]="articleConfig"
        *ngFor="let article of articles$ | async"
        [article]="article"
        [currentAudience]="audience$ | async"
        [currentUserApplauds]="currentUserApplauds"
        [audienceActivities]="article.audienceActivities"
        (notify)="showNotification($event)"
        (opened)="setSelectedArticle($event)"
      >
      </app-article>
    </div>
  </div>
  <ng-container *ngIf="selectedArticle$ | async as selectedArticle">

    <app-right-slideout-panel
      [isOpen]="isArticleOpen && selectedArticle"
      (toggled)="isArticleOpen = $event"
    >
      <div class="h-100 overflow-auto">
        <app-article
          [config]="selectedArticleConfig"
          [article]="selectedArticle"
          [currentAudience]="audience$ | async"
          [currentUserApplauds]="currentUserApplauds"
          [audienceActivities]="selectedArticle.audienceActivities"
          (notify)="showNotification($event)"
          (opened)="setSelectedArticle($event)"
          (applaud)="submitApplauds($event)"
          (updateUserApplaud)="updateAudienceApplauds($event)"
          (addComment)="submitComment($event)"
        ></app-article>
      </div>

    </app-right-slideout-panel>
  </ng-container>
</app-articles-content-wrapper>
