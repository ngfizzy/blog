<mat-sidenav-container class="posts-drawer-container fixed-top">
  <mat-sidenav mode="side" opened class="posts-drawer fixed-top">
    <app-authors-post-list-toolbar
      (toggleCreateForm)="isCreating = !isCreating"
      (toggleSearchForm)="isSearching = !isSearching"
      [isCreating]="isCreating"
      [isSearching]="isSearching"
    >
    </app-authors-post-list-toolbar>
    <div class="mat-elevation-z4 mb-2" *ngIf="isCreating">
      <form
        class="d-flex flex-column"
        (ngSubmit)="createPost(postTitle.value)">
        <input
          autofocus
          class="p-1"
          type="text"
          name="postTitle"
          #postTitle
          placeholder="Enter the article's title"
        >
        <button type="submit"><i class="fa fa-check"></i></button>
      </form>
      <div class="divider"></div>
    </div>
    <div class="mat-elevation-z4 mb-2" *ngIf="isSearching">
        <form
          class="d-flex flex-column"
          (ngSubmit)="search(postTitle.value)"
        >
          <input
            autofocus
            class="p-1"
            type="text"
            name="postTitle"
            #postTitle
            placeholder="Search by title"
          >
          <button type="submit"><i class="fa fa-check"></i></button>
        </form>
        <div class="divider"></div>
      </div>
    <app-authors-posts-list
      [postsList]="posts$ | async"
      (showFullPost)="showFullPost($event)"
    >
    </app-authors-posts-list>
  </mat-sidenav>
  <mat-sidenav-content>
    <app-authors-posts-toolbar
      *ngIf="selectedPost$ | async; let selectedPost"
      [selectedPostTitle]="selectedPost.title"
      [selectedPostId]="selectedPostId"
      [isEditingTitle]="isEditingTitle"
      [postStatus]="postStatus$ | async"
      (editTitle)="isEditingTitle = $event"
      (saveTitle)="saveTitle($event)"
    >
    </app-authors-posts-toolbar>
    <div class="sidenav-outlet">
      <router-outlet ></router-outlet>
    </div>
  </mat-sidenav-content>
</mat-sidenav-container>
